<ion-header>
    <ion-toolbar>
        <ion-title>{{ !isLogin ? 'Signup' : 'Login'}}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content class="ion-text-center ion-nopadding">
    <form
        #f="ngForm"
        (ngSubmit)="onSubmit(f)"
    >
        <ion-grid>
            <ion-row>
                <ion-col
                    size-sm="6"
                    offset-sm="3"
                >
                    <ion-list>
                        <ion-item>
                            <ion-label position="floating">E-Mail</ion-label>
                            <ion-input
                                type="email"
                                ngModel
                                name="email"
                                required
                                email
                                #emailCtrl="ngModel"
                            ></ion-input>
                        </ion-item>
                        <ion-item
                            *ngIf="!emailCtrl.valid && emailCtrl.touched"
                            lines="none"
                        >
                            <ion-label>Should be a valid email address.</ion-label>
                        </ion-item>
                        <ion-item>
                            <ion-label position="floating">Password</ion-label>
                            <ion-input
                                type="password"
                                ngModel
                                name="password"
                                required
                                minlength="6"
                                #pwdCtrl="ngModel"
                            ></ion-input>
                        </ion-item>
                        <ion-item
                            *ngIf="!pwdCtrl.valid && pwdCtrl.touched"
                            lines="none"
                        >
                            <ion-text>
                                Password should be at least 6 characters and contain at least one digit one capital and one lowercase letter.
                            </ion-text>
                        </ion-item>
                        <!-- <ion-item *ngIf="!isLogin">
                            <ion-label position="floating">Confirm Password</ion-label>
                            <ion-input
                                type="password"
                                ngModel
                                name="passwordConf"
                                required
                                #pwdConfirm="ngModel"
                            ></ion-input>
                        </ion-item> -->
                        <!-- <ion-item
                            *ngIf="!isLogin 
                            && pwdCtrl.touched && pwdCtrl.valid 
                            && pwdConfirm.touched && pwdConfirm.valid 
                            && pwdConfirm.value != pwdCtrl.value"
                            lines="none"
                        >
                            <ion-text>Passwords don't much.</ion-text>
                        </ion-item> -->

                    </ion-list>
                    <ion-col
                        size-sm="6"
                        offset-sm="3"
                    >

                        <ion-button
                            type="button"
                            color="primary"
                            fill="clear"
                            expand="block"
                            (click)="onSwitchAuthMode()"
                        >
                            Switch to {{ isLogin ? 'Signup' : 'Login'}}
                        </ion-button>
                        <ion-button
                            type="submit"
                            color="primary"
                            expand="block"
                            (click)="onSubmit(f)"
                            [disabled]="f.invalid"
                        >
                            {{ !isLogin ? 'Signup' : 'Login'}}
                        </ion-button>

                    </ion-col>
                </ion-col>
            </ion-row>
        </ion-grid>

    </form>
</ion-content>
